# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç Telegram –±–æ—Ç–∞

## ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª backend:

```env
TELEGRAM_BOT_TOKEN=8326442574:AAGy2mIZaMrx5E1h63vuSvCKoWdNw3L2kTY
TELEGRAM_BOT_USERNAME=myResto_robot
TELEGRAM_BOT_ENABLED=true
API_BASE_URL=http://localhost:3001/api
```

## –ó–∞–ø—É—Å–∫

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:**
```bash
cd backend
npm run dev
```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—Å—Ç–∏–ª—Å—è:**
–í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
üöÄ Server running on http://localhost:3001
ü§ñ Telegram bot started successfully (@myResto_robot)
```

–ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–º–µ—Å—Ç–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º, –µ—Å–ª–∏ –∑–∞–¥–∞–Ω `TELEGRAM_BOT_TOKEN`.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏

**–ò–∑ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞:**
- –ú–µ–Ω–µ–¥–∂–µ—Ä –∑–∞—Ö–æ–¥–∏—Ç –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–º
- –í—ã–±–∏—Ä–∞–µ—Ç "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å —á–µ—Ä–µ–∑ Telegram" –≤ —Ä–∞–∑–¥–µ–ª–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- –í—ã–±–∏—Ä–∞–µ—Ç –¥–æ–ª–∂–Ω–æ—Å—Ç—å –∏ –æ—Ç–¥–µ–ª (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ü–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É: `https://t.me/myResto_robot?start=TOKEN`

**–ß–µ—Ä–µ–∑ API:**
```bash
POST /api/invite-links
Authorization: Bearer TOKEN
Body: {
  "restaurantId": "...",
  "positionId": "...", // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  "departmentId": "...", // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  "expiresAt": "2025-12-31T23:59:59Z", // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  "maxUses": 10 // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1
}

Response: {
  "inviteLink": {
    "url": "https://t.me/myResto_robot?start=abc123...",
    "token": "abc123...",
    ...
  }
}
```

### 2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–æ–≤—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫**
1. –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ –≤ Telegram –±–æ—Ç
2. –ë–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç: –ò–º—è ‚Üí –§–∞–º–∏–ª–∏—è ‚Üí –¢–µ–ª–µ—Ñ–æ–Ω
3. –°–æ–∑–¥–∞–µ—Ç—Å—è –∞–∫–∫–∞—É–Ω—Ç –≤ —Å–∏—Å—Ç–µ–º–µ
4. –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ (–≤—Ç–æ—Ä–æ–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω)**
1. –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ –≤ Telegram –±–æ—Ç
2. –ë–æ—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ telegramId, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –µ—Å—Ç—å
3. –ë–æ—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–æ –≤—Ç–æ—Ä–æ–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω
4. –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å RestaurantUser (–¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞)

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞—Ö —Å–º. [multi-restaurant-registration.md](multi-restaurant-registration.md)

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É —á–µ—Ä–µ–∑ API:**
```bash
POST http://localhost:3001/api/invite-links
Authorization: Bearer YOUR_TOKEN
Body: {
  "restaurantId": "your_restaurant_id"
}
```

2. **–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram:**
   - –ù–∞–π–¥–∏—Ç–µ `@myResto_robot` –≤ Telegram
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start TOKEN` (–≥–¥–µ TOKEN - –∏–∑ –æ—Ç–≤–µ—Ç–∞ API)

3. **–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ:**
   - –°—Å—ã–ª–∫–∞ –±—É–¥–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `https://t.me/myResto_robot?start=TOKEN`

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start [TOKEN]` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏–ª–∏ –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
- `/menu` - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- `/help` - –°–ø—Ä–∞–≤–∫–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
backend/src/telegram/
  ‚îî‚îÄ‚îÄ bot.ts          # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
```

## –î–∞–ª—å–Ω–µ–π—à–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–æ—Ç–∞
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- ‚úÖ –ü—Ä–∏–≤—è–∑–∫–∞ Telegram –∞–∫–∫–∞—É–Ω—Ç–∞ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- ‚è≥ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–º–µ–Ω–∞—Ö
- ‚è≥ –ö–æ–º–∞–Ω–¥–∞ /schedule –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≥—Ä–∞—Ñ–∏–∫–∞
- ‚è≥ –ö–æ–º–∞–Ω–¥–∞ /tasks –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–¥–∞—á
- ‚è≥ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ (—Å–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –∏–∑ –±–æ—Ç–∞)

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–º. [telegram-bot-summary.md](telegram-bot-summary.md)

